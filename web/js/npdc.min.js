function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=a.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function openOverlay(e){if($("a, button, input").each(function(){$(this).is("[tabindex]")&&$(this).attr("data-tabindex",$(this).attr("tabindex")),$(this).attr("tabindex","-1")}),$("iframe:not([src^='http'])").contents().find("a, button, input").each(function(){$(this).is("[tabindex]")&&$(this).attr("data-tabindex",$(this).attr("tabindex")),$(this).attr("tabindex","-1")}),null===getParameterByName("referer"))var t=encodeURIComponent(window.location);else var t=getParameterByName("referer");$("#overlay .inner").html('<iframe src="'+e+(e.indexOf("?")===-1?"?":"&")+"u="+t+'"></iframe>'),$("#overlay").fadeIn(250)}function closeOverlay(){$("#overlay iframe").contents().find("body").hasClass("user")?window.location=window.location.href.replace(/#[a-zA-Z0-9]*$/,"").replace(/overlay=[a-zA-Z0-9]*[&]?/g,"").replace(/&$/,""):$("#overlay").fadeOut(250)}function openUrl(e){parent.window.location.href=e}function toggleRelated(e){e?($(".parent, .child, .noRelated").hide(),$(".related").css("display","inline-block")):($(".parent, .child, .noRelated").show(),$(".related").css("display","none"))}$().ready(function(){$(".collapsible").each(function(){$(this).on("click",function(){$(this).next().hasClass("hiddenSubDiv")?items=$(this).next():items=$(this).nextUntil("hr").not("[id$=_new]"),$(this).hasClass("collapsed")?(items.slideDown(),$(this).removeClass("collapsed")):(items.slideUp(),$(this).addClass("collapsed"))})}),$("body").addClass("no-touch"),$("#menu .sub span").click(function(e){$(this).parent().hasClass("hover")?$("li.hover").removeClass("hover"):($("li.hover").removeClass("hover"),$(this).parent().addClass("hover")),e.stopPropagation()}),$("#page").on("click",function(){$(".hover").removeClass("hover")}),$(".list #left h3").click(function(){$(".list #left").toggleClass("visible")}),$(".single-col #right h3").click(function(){$("#right").toggleClass("visible")}),$("#menu h4").click(function(e){$("#menu").toggleClass("hover"),$("#menu .sub.hover").removeClass("hover"),e.stopPropagation()}),$("a[href*='://']").attr("target","_blank"),$("input[type=reset]").click(function(){return confirm("Are you sure you want to reset the form?")}),$("#left select[multiple]").each(function(){$(this).hide(),$(this).wrap("<div></div>");var e=$(this).attr("name").substring(0,$(this).attr("name").length-2);$(this).after('<div id="select_'+e+'" class="select"></div>'),$(this).children("option").each(function(){var t='<div data-value="'+$(this).val()+'" '+($(this).is("[selected]")?'class="selected"':"")+">"+$(this).text()+"</div>";$("#select_"+e).append(t)}),$("#select_"+e+" div").click(function(){var e=$(this).parent().siblings("select").children("[value="+$(this).attr("data-value")+"]");e.prop("selected")?(e.prop("selected",!1),$(this).removeClass("selected")):(e.prop("selected",!0),$(this).addClass("selected")),$(this).parent().parent().prev().children(".count").text("("+$(this).parent().find(".selected").length+" selected)").css("font-style","italic")}),$(this).parent().prev().append(' <span class="count">('+$(this).find("[selected]").length+" selected)</span>")}),$(".debug.bottom").click(function(){$(".debug.bottom").toggleClass("expanded")}),Inputmask.extendDefinitions({X:{validator:"[0-9xX]",cardinality:1,casing:"upper"}}),Inputmask.extendAliases({"yyyy[-mm[-dd]]":{mask:"y[-1[-d]]",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},orcid:{mask:"9999-9999-9999-999X"}}),$("input[data-inputmask]").inputmask(),$("body").hasClass("nomenu")||window.top.location!==window.location&&(window.top.location=window.location),$("#versionSelect").change(function(){console.log($("#versionSelect").val()),window.location=$("#versionSelect").val()}),$("div.overflow").each(function(){$(this).height()>150&&$(this).addClass("overheight").append('<div class="bottombar"></div>')}),$(".bottombar").click(function(){$(this).parent().toggleClass("expanded")});var e,t;setHeadMargin=function(){e=$("#menu").position().top,t=Math.max(125,$("#head").height()),$("#page").css("padding-top",t+15+"px")},$(window).on("load resize",function(){setHeadMargin()}),$(window).on("scroll touchmove",function(){$(window).scrollTop()>e?$("#head").addClass("sticky"):($("#head").removeClass("sticky"),setHeadMargin())})});